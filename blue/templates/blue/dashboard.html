{% extends 'contas/base.html' %}
{# Load the tag library #}
{% load bootstrap3 %}
{% load i18n %}
{# Load CSS and JavaScript #}
{% load static %}
<h1>{% trans "Category" %}</h1>

{% block content %}
      <script type="text/javascript">
        google.charts.load("current", {packages:['corechart']});
        google.charts.setOnLoadCallback(drawChart);
        function drawChart() {
          var data = google.visualization.arrayToDataTable([
            ["Element", "Density", { role: "style" } ],
              {% for d, t, c in list_st %}
              ["{{d}}", {{t}}, "{{c}}"],
              {% endfor %}
          ]);

          var view = new google.visualization.DataView(data);
          view.setColumns([0, 1,
                           { calc: "stringify",
                             sourceColumn: 1,
                             type: "string",
                             role: "annotation" },
                           2]);

          var options = {
            title: "Income x Outcome",
            width: 500,
            height: 300,
            bar: {groupWidth: "50%"},
            legend: { position: "none" },
            titleTextStyle: {
                    fontSize: 25},
          };
          var chart = new google.visualization.ColumnChart(document.getElementById("columnchart_values"));
          chart.draw(view, options);
      }
      </script>
      <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Year', 'Sales', 'Expenses'],
          ['2004',  1000,      400],
          ['2005',  1170,      460],
          ['2006',  660,       1120],
          ['2007',  1030,      540]
        ]);

        var options = {
          title: 'Company Performance',
          curveType: 'function',
          legend: { position: 'bottom' }
        };

        var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

        chart.draw(data, options);
      }
    </script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawPieChart);

      function drawPieChart() {

        var data = google.visualization.arrayToDataTable([
          ['Category', 'Value'],
          {% for d, t in list_ct %}
              ["{{d}}", {{t}}],
          {% endfor %}
        ]);

        var options = {
          title: 'Outcome by Category'
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));

        chart.draw(data, options);
      }
    </script>
    <div class="container">
        <div class="row top-row">
            <div class="col-xs-5">
                <div id="columnchart_values"></div>
            </div>
            <div class="col-xs-4">
                <div id="piechart"></div>
            </div>
        </div>
        <div class="row top-row">
            <div class="col-xs-8">
                <div id="curve_chart"></div>
            </div>
        </div>

    </div>
{% endblock %}
